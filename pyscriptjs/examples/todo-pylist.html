<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />

    <title>Todo App</title>

    <link rel="icon" type="image/png" href="favicon.png" />
    <link rel="stylesheet" href="/build/pyscript.css" />
    
    <script defer src="/build/pyscript.js"></script>
    <py-env>
    - paths:
      - /utils.py
    </py-env>
    <py-register-widget src="/pylist.py" name="py-list" klass="PyList"></py-widget>
  </head>

  <body class="container">

  <main class="max-w-xs mx-auto mt-4">
    <section>

    <py-title>To Do List</py-title>
    <div>
      <input id="new-task-content" class="border flex-1 mr-3 border-gray-300 p-2 rounded" type="text" py-mount>
      
      <py-button id="new-task-btn" label="Add Task!">
        def on_click(evt):
          task = { "content": new_task_content.value,  "done": False, "created_at": dt.now() }
          myList.add(PyItem(task, labels=['content'], state_key="done"))
          new_task_content.clear()
      </button>
    </div>
  
    <py-list id="myList"></py-list>

    
    <py-repl id="my-repl" auto-generate="true"> </py-repl>
  
  </section>
  </main>
</body>
</html>
