<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />

    <title>Todo App</title>

    <link rel="icon" type="image/png" href="favicon.png" />
    <link rel="stylesheet" href="/build/pyscript.css" />
    
    <script defer src="/build/pyscript.js"></script>
    <py-env>
    - paths:
      - /utils.py
    </py-env>
    <py-register-widget src="/pylist.py" name="py-list" klass="PyList"></py-widget>
  </head>

  <body>
      <py-title>To Do List</py-title>
      <py-box widths="2/3;1/3">
        <py-inputbox id="new-task-content"></py-inputbox>
        <py-button id="new-task-btn" label="Add Task!">
          def on_click(evt):
            task = { "content": new_task_content.value,  "done": False, "created_at": dt.now() }
            myList.add(PyItem(task, labels=['content'], state_key="done"))
            new_task_content.clear()
        </button>
      </py-box>
    
      <py-list id="myList"></py-list>

      <py-repl id="my-repl" auto-generate="true"> </py-repl>
  </body>
</html>
